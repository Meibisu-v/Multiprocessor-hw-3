# Exercise 86
В первой реализации все потоки используют одну и ту же кэш-линию, 
содержащую счетчик. Поэтому каждое увеличение этого счетчика делает эту кэш-линию 
недействительной для всех остальных процессоров, вызывая повышенную нагрузку в шине при 
каждом увеличении.

Во второй реализации, предполагая, что элементы в массиве выровнены по кэшу, кэш-линия 
становится недействительной только тогда, когда поток i-1 достигает барьера, затем поток 
i может обновить значение своей кэш-линии. Таким образом, между потоками может произойти только одна инвалидация,
за исключением случая, когда достигнут последний элемент массива.


Вторая реализация лучше. В первом случае каждая проверка значения счетчика потоком означает, что другие потоки не могут его проверить.
 Я полагаю, что в условиях высокой загрузки вторая реализация
будет демонстрировать более высокую производительность, однако при 
низкой загрузке первая реализация может работать немного эффективнее.

